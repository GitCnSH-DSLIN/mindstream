<div dir="ltr" style="text-align: left;" trbidi="on">
О кешировании. Поговорим устройство "слова".<br />
<br />
Предыдущая серия была тут - <a href="http://programmingmindstream.blogspot.ru/2015/12/1147.html">http://programmingmindstream.blogspot.ru/2015/12/1147.html</a>.<br />
<br />
Там мы ввели понятия "слова", "переменной" и "константы", а также научились ими пользоваться.<br />
<br />
Теперь поговорим на тему "а что же вообще говоря такое слово".<br />
<br />
"Слово" или "элемент словаря" это вообще говоря - "словарная запись", которая представляется в словаре в виде "ключ-значение".<br />
<br />
Т.е. слово:<br />
<br />
<pre class="brush:delphi">: A
 ACode
; // A
</pre>
<br />
В словаре будет представлено парой:<br />
<br />
( A ACode )<br />
<br />
Где:<br />
&nbsp;A - имя слова.<br />
&nbsp;ACode - код слова.<br />
<br />
А <b>точнее говоря</b>&nbsp;- тройкой:<br />
<br />
( : A ACode )<br />
<br />
Где:<br />
&nbsp;: - <b>стереотип</b> слова.<br />
&nbsp;A - имя слова.<br />
&nbsp;ACode - код слова.<br />
<br />
Что такое <b>стереотип</b> слова?<br />
<br />
Это скажем так "категория" к которой это "слово" относится.<br />
<br />
Стереотип может определять различные <b>ограничения</b> на работу со словом.<br />
<br />
Из разряда того, что например:<br />
&nbsp;"константы" - умеют только вычислять значения.<br />
&nbsp;"переменные" - умеют как отдавать значения, так и хранить их.<br />
&nbsp;"слова" - умеют вычислять значения, а также могут содержать вложенные элементы.<br />
<br />
Также стереотипы определяют наборы <b>операций</b> применимых к элементу словаря (об этом поговорим ещё позже).<br />
<br />
Проиллюстрируем использование <b>стереотипов</b> примером:<br />
<br />
<pre class="brush:delphi">: A
 ACode
; // A

VAR B

CONST C 1
</pre>
<br />
Этот пример будет представлен в словаре так:<br />
&nbsp;( : A ACode )<br />
&nbsp;( VAR B {BValue} )<br />
&nbsp;( CONST C 1 )<br />
<br />
А пример:<br />
<br />
<pre class="brush:delphi">: A
 ACode
; // A

VAR B

CONST C 1
CONST D C
</pre>
<br />
Будет представлен в словаре так:<br />
<br />
&nbsp;( : A ACode )<br />
&nbsp;( VAR B {BValue} )<br />
&nbsp;( CONST C 1 )<br />
&nbsp;( CONST D ref C )<br />
<br />
<b>Обратите</b> внимание, что элемент D <b>не</b> представлен значением "1", а <b>ссылается</b> на элемент C - "ref C".<br />
<br />
Мы этот факт потом ещё обсудим.<br />
<br />
А что же со вложенными словами?<br />
<br />
Как они представляются в словаре?<br />
<br />
Вот тут "оказывается", что слова представляются даже не <b>тройкой</b>, а <b>четвёркой</b> - ( Стереотип Имя_Слова Код_Слова Вложенный_Словарь ).<br/><br/>

Проиллюстрируем примером.<br/><br/>

Код:<br/>
<pre class=brush:delphi>
: A
 VAR X
 ACode
; // A
</pre>
<br/>
Представляется как:<br/><br/>
( : A ACode Dict( VAR X {XValue} ) )<br/><br/>
Где Dict( ... ) - внутренний словарь слова A.<br/><br/>
<br /></div>
