<div dir="ltr" style="text-align: left;" trbidi="on">
О кешировании. Поговорим про добавление вложенных элементов.<br />
<br />
Предыдущая серия была тут - <a href="http://programmingmindstream.blogspot.ru/2015/12/1148.html">http://programmingmindstream.blogspot.ru/2015/12/1148.html</a>.<br />
<br />
<br />

Там мы поговорили про внутреннее устройство слов словарей.<br/><br/>

А также обсудили возможность получения внутренних элементов слов по их имени.<br/><br/>

И там у нас возник вопрос:<br/><br/>

Теперь возникает закономерный вопрос - "а если мы можем получать внутренние элементы слов, то можем ли мы добавлять новые элементы?"<br />
<br />
Ответ - "да можем".<br />
<br />
Как?<br />
<br />

Сейчас мы это рассмотрим.<br/><br/>

Мы уже рассмотрели слово <b>%%</b>. Теперь рассмотрим слово <b>-></b>.<br/><br/>

Вот его определение:<br/><br/>
<pre class=brush:delphi>
OBJECT operator ->^
 ^@ IN aSelf
 ^ IN aName
 
 STRING VAR l_Name
 aName DO >>> l_Name
 
 OBJECT VAR l_Self
 aSelf |^@ >>> l_Self
 
 if ( l_Self pop:object:IsNil ) then
 begin
  nil >>> Result
 end 
 else 
 begin
  VAR l_NewVar
  
  l_Name l_Self pop:NewWordDefinitor:CheckWord pop:KeyWord:Word >>> l_NewVar
  
  if ( l_NewVar pop:object:IsNil ) then
   (
    l_Name false l_Self pop:NewWordDefinitor:CheckVar
    
     >>> l_NewVar
    Ctx:ClearTypeInfo
    
    @ VAR l_NewVar pop:Word:SetProducer
   )
  
  l_NewVar >>> Result
 end // l_Self pop:object:IsNil
; // ->^

^@ operator ->
 ^@ IN aSelf
 ^L IN aName

 aSelf ->^ ( aName |N ) >>> Result
; // ->
</pre>
<br/>

Тут даже два слова определено - <b>->^</b> и <b>-></b>.<br/><br/>

Слово <b>->^</b> - мы рассмотрим позднее.<br/><br/>

А пока приведём пример использования слова <b>-></b>:<br/><br/>
<pre class=brush:delphi>
</pre>
<br/>
<br/>
</div>
