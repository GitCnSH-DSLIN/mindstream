VOID TestWithDump CallInheritedTest
 : A
  INTEGER IN Self
  Self
  1
  +
 ; // : A
 
 : B
  Inherits %G
   A
  ; // Inherits %G
  
  INTEGER IN Self
  Self
  2
  +
  B
  find.inherited
  DROP
  B
  .Inherited.Words
  (
   Self
   SWAP
   DO
  )
  SWAP
  Array:Iterate
  +
 ; // : B
 
 : C
  Inherits %G
   A
  ; // Inherits %G
  
  INTEGER IN Self
  Self
  2
  +
  C
  find.inherited
  DROP
  C
  .Inherited.Words
  (
   Self
   SWAP
   DO
  )
  SWAP
  Array:Iterate
  +
 ; // : C
 
 IMMEDIATE VOID MACRO call.inherited
  '@SELF'
  Ctx:Parser:PushSymbol
  axiom:PushSymbol
  find.inherited
  axiom:PushSymbol
  DROP
  ARRAY [
   '@SELF .Inherited.Words .for> ( Self SWAP DO )'
  ]
  Ctx:Parser:PushArray
 ; // IMMEDIATE VOID MACRO call.inherited
 
 IMMEDIATE STACK_CHANGING_MACRO compile.inherited
  TtfwWord IN Self
  Self
  find.inherited
  CompileValue
 ; // IMMEDIATE STACK_CHANGING_MACRO compile.inherited
 
 TtfwWord FUNCTION find.inherited
  TtfwWord IN Self
  nil
  Result
  pop:Word:SetValue
  Self
  .Inherited.Words
  (
   TtfwWord IN anAncestor
   anAncestor
   |N
   .
   anAncestor
   Result
   pop:Word:SetValue
  )
  SWAP
  Array:Iterate
  Result
  IsNil
  !
  ?ASSURE
  ARRAY [
   'Не найден предок для '
   Self
   |N
  ]
 ; // TtfwWord FUNCTION find.inherited
 
 CallInheritedTest
 DumpElement
 1
 A
 .
 1
 B
 .
 1
 C
 .
; // VOID TestWithDump CallInheritedTest

2
A
5
A
5
