VOID TestWithDump SaveVarAndDoTest
 VAR A
 VOID PROCEDURE SaveVarAndDo
  ^ IN aFunctor
  ^ IN aVar
  VAR l_OldValue
  l_OldValue :=
  (
   aVar |^
  )
  TRY
   aFunctor |^
  FINALLY
   aVar
   ^:=
   l_OldValue
  END
 ; // VOID PROCEDURE SaveVarAndDo
 
 SaveVarAndDoTest
 DumpElement
 A :=
 '1'
 A
 Trace
 SaveVarAndDo
 A
 (
  A
  Trace
  'got it'
  Trace
  A :=
  2
  A
  Trace
 )
 A
 Trace
; // VOID TestWithDump SaveVarAndDoTest

1
1
got it
2
1
